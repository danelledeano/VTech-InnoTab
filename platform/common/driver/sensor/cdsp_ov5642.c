/**************************************************************************
 *                                                                        *
 *         Copyright (c) 2010 by Generalplus Inc.                         *
 *                                                                        *
 *  This software is copyrighted by and is the property of Generalplus    *
 *  Inc. All rights are reserved by Generalplus Inc.                      *
 *  This software may only be used in accordance with the                 *
 *  corresponding license agreement. Any unauthorized use, duplication,   *
 *  distribution, or disclosure of this software is expressly forbidden.  *
 *                                                                        *
 *  This Copyright notice MUST not be removed or modified without prior   *
 *  written consent of Generalplus Technology Co., Ltd.                   *
 *                                                                        *
 *  Generalplus Inc. reserves the right to modify this software           *
 *  without notice.                                                       *
 *                                                                        *
 *  Generalplus Inc.                                                      *
 *  3F, No.8, Dusing Rd., Hsinchu Science Park,                           *
 *  Hsinchu City 30078, Taiwan, R.O.C.                                    *
 *                                                                        *
 **************************************************************************/
 
/**************************************************************************
 *                         H E A D E R   F I L E S												*
 **************************************************************************/
#include <linux/module.h>
#include <linux/fs.h> /* everything... */
#include <linux/videodev2.h>
#include <media/v4l2-device.h>

#include <linux/delay.h>
#include <mach/gp_cdsp.h>
#include <mach/gp_gpio.h>
#include <mach/gp_i2c_bus.h>
#include <mach/sensor_mgr.h>

/**************************************************************************
 *                           C O N S T A N T S                            *
 **************************************************************************/
/* max resolution: 2592*1944 */
#define	OV5642_ID					0x78
#define OV5642_WIDTH				2592
#define OV5642_HEIGHT				1944

#define OV5642_YUYV					0x30
#define OV5642_UYVY					0x32
#define OV5642_BGGR					0x00
#define OV5642_GBRG					0x01
#define OV5642_GRBG					0x02
#define OV5642_RGGB					0x03

/**************************************************************************
 *                              M A C R O S                               *
 **************************************************************************/
#define COLOR_BAR_EN				0
#define I2C_USE_GPIO				0
#define I2C_SCL_IO					0x0
#define I2C_SDA_IO					0x1

static char *param[] = {"0", "PORT0", "0", "NONE", "0", "NONE"};
static int nstrs = 6;
module_param_array(param, charp, &nstrs, S_IRUGO);

/**************************************************************************
 *                          D A T A    T Y P E S                          *
 **************************************************************************/
struct regval_list_s 
{
	unsigned short reg_num;
	unsigned char value;
};

struct ov5642_fmt_s
{
	__u8 *desc;
	__u32 pixelformat;
	struct regval_list_s *regs;
	int cmatrix[6];
	int bpp;  					 /* Bytes per pixel */
}; 

typedef struct ov5642_dev_s 
{
	struct v4l2_subdev sd;
	struct ov5642_fmt_s *fmt;	/* Current format */
	short width;
	short height;
	int hue;					/* Hue value */
	unsigned char sat;			/* Saturation value */
	unsigned char reserved0;
	unsigned char reserved1;
	unsigned char reserved2;
}ov5642_dev_t;

/**************************************************************************
 *                 E X T E R N A L    R E F E R E N C E S                 *
 **************************************************************************/

/**************************************************************************
 *               F U N C T I O N    D E C L A R A T I O N S               *
 **************************************************************************/

/**************************************************************************
 *                         G L O B A L    D A T A                         *
 **************************************************************************/
static struct regval_list_s CCIR601_raw_vga[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x5c },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3005, 0xff },
	{ 0x3006, 0x43 },
	{ 0x3007, 0x37 },
	{ 0x3011, 0x08 },
	{ 0x3012, 0x00 }, /* pre divider 1 */
	{ 0x3010, 0x10 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x04 },
	{ 0x370c, 0xa0 },
	{ 0x3602, 0xfc },
	{ 0x3612, 0xff },
	{ 0x3634, 0xc0 },
	{ 0x3613, 0x00 },
	{ 0x3605, 0x7c },
	{ 0x3621, 0x09 },
	{ 0x3622, 0x60 },
	{ 0x3604, 0x40 },
	{ 0x3603, 0xa7 },
	{ 0x3603, 0x27 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5001, 0xff },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x3808, 0x02 },
	{ 0x3809, 0x80 },
	{ 0x380a, 0x01 },
	{ 0x380b, 0xe0 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x4300, 0x30 }, 
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3824, 0x11 },
	{ 0x3501, 0x1e },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x7f },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x03 },
	{ 0x380f, 0xe8 },
	{ 0x3a0d, 0x04 },
	{ 0x3a0e, 0x03 },
	{ 0x3818, 0xc1 }, /* flip */
	{ 0x3705, 0xdb },
	{ 0x370a, 0x81 },
	{ 0x3801, 0x80 },
	{ 0x3621, 0x87 },
	{ 0x3801, 0x50 },
	{ 0x3803, 0x08 },
	{ 0x3827, 0x08 },
	{ 0x3810, 0x40 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x3806, 0x03 },
	{ 0x3807, 0xc0 },
	{ 0x5686, 0x03 },
	{ 0x5687, 0xbc },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x05 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x528a, 0x02 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x08 },
	{ 0x528e, 0x08 },
	{ 0x528f, 0x10 },
	{ 0x5290, 0x10 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x02 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x02 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x02 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x02 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x02 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x02 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x02 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x70 },
	{ 0x3a1f, 0x10 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x04 },
	{ 0x589a, 0xc5 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x04 },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3010, 0x00 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x10 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x10 },
	{ 0x3806, 0x03 },
	{ 0x3807, 0xcc },
	{ 0x5686, 0x03 },
	{ 0x5687, 0xc8 },
	{ 0x3808, 0x05 },
	{ 0x3809, 0x10 },
	{ 0x380a, 0x03 },
	{ 0x380b, 0xcc },
	{ 0x5025, 0x80 },
	{ 0x3824, 0x13 },
	{ 0x3825, 0x50 },
	{ 0x370d, 0x4b },
	{ 0x3613, 0x80 },
	{ 0x3a0f, 0x3e },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x40 },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x460c, 0x20 },
	{ 0x501f, 0x03 },
	{ 0x4300, OV5642_BGGR },
	{ 0x5000, 0x06 },
	{ 0x5001, 0x00 },
#if COLOR_BAR_EN == 1
	{ 0x503D, 0x80 },
#else
	{ 0x503D, 0x00 },
#endif		
    { 0x471b, 0x01 }, /* hsync enable */
	{ 0x4740, 0x03 }, /* h/v polarity */
	{ 0xffff, 0xff },	
};

static struct regval_list_s CCIR601_raw_meg5[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3011, 0x08 },
	{ 0x3012, 0x00 }, /* pre divider 1 */
	{ 0x3010, 0x00 },
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x21 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0xcf },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5000, 0x06 },
	{ 0x501f, 0x03 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc0 },
	{ 0x3824, 0x11 },
	{ 0x3801, 0x8a },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x3004, 0xff },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3a0f, 0x3e },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x40 },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x5025, 0x80 },
	{ 0x5000, 0x06 },
	{ 0x5001, 0x00 },
#if COLOR_BAR_EN == 1
	{ 0x503D, 0x80 },
#else
	{ 0x503D, 0x00 },
#endif
	{ 0x471b, 0x01 }, /* hsync enable */
	{ 0x4740, 0x01 }, /* h/v polarity */
	{ 0xffff, 0xff },
};

static struct regval_list_s CCIR601_yuv_720p[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3030, 0x2b },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x10 },
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x22 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5687, 0x94 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x5001, 0xcf },
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x460b, 0x35 },
	{ 0x471d, 0x00 },
	{ 0x3002, 0x0c },
	{ 0x3002, 0x00 },
	{ 0x4713, 0x03 },
	{ 0x471c, 0x50 },
	{ 0x4721, 0x02 },
	{ 0x4402, 0x90 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x44 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc8 },
	{ 0x3801, 0x88 },
	{ 0x3824, 0x11 },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x32 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x4407, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3011, 0x08 },
	{ 0x350c, 0x02 },
	{ 0x350d, 0xe4 },
	{ 0x3621, 0xc9 },
	{ 0x370a, 0x81 },
	{ 0x3803, 0x08 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x3806, 0x02 },
	{ 0x3807, 0xd0 },
	{ 0x3808, 0x05 },
	{ 0x3809, 0x00 },
	{ 0x380a, 0x02 },
	{ 0x380b, 0xd0 },
	{ 0x380c, 0x08 },
	{ 0x380d, 0x72 },
	{ 0x380e, 0x02 },
	{ 0x380f, 0xe4 },
	{ 0x3810, 0xc0 },
	{ 0x3818, 0xc9 },
	{ 0x381c, 0x10 },
	{ 0x381d, 0xa0 },
	{ 0x381e, 0x05 },
	{ 0x381f, 0xb0 },
	{ 0x3820, 0x00 },
	{ 0x3821, 0x00 },
	{ 0x3824, 0x11 },
	{ 0x3a08, 0x1b },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x17 },
	{ 0x3a0b, 0x20 },
	{ 0x3a0d, 0x02 },
	{ 0x3a0e, 0x01 },
	{ 0x401c, 0x04 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x5686, 0x02 },
	{ 0x5687, 0xcc },
	{ 0x5001, 0x7f },
	{ 0x589b, 0x06 },
	{ 0x589a, 0xc5 },
	{ 0x3503, 0x00 },
	{ 0x460c, 0x20 },
	{ 0x460b, 0x37 },
	{ 0x471c, 0xd0 },
	{ 0x471d, 0x05 },
	{ 0x3815, 0x01 },
	{ 0x3818, 0xc1 },
	{ 0x501f, 0x00 },
	{ 0x5002, 0xe0 },
	{ 0x4300, OV5642_UYVY },/* format to YVYU */
	{ 0x3002, 0x1c },
	{ 0x4800, 0x14 },
#if COLOR_BAR_EN == 1
	{ 0x503D, 0x80 },
#else
	{ 0x503D, 0x00 },
#endif	
	{ 0x471b, 0x01 }, /* hsync enable */
	{ 0x4740, 0x01 }, /* h/v polarity */	
	{ 0xffff, 0xff },
};

static struct regval_list_s mipi_raw_meg5[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x30 },	
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x4300, 0x00 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x21 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0xcf },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5000, 0x06 },
	{ 0x501f, 0x03 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc0 },
	{ 0x3824, 0x11 },
	{ 0x3801, 0x8a },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x3004, 0xff },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x5000, 0x06 },
	{ 0x5001, 0x00 },
	{ 0x5005, 0x00 },
	{ 0x3818, 0x80 },
	{ 0x3621, 0x29 },
	{ 0x3801, 0xb4 },
	{ 0x4801, 0x0f },
	{ 0x3007, 0x3b },
	{ 0x300e, 0x04 },
	{ 0x4803, 0x50 },
	{ 0x3815, 0x01 },
	{ 0x4713, 0x02 },
	{ 0x4837, 0xFF },
	{ 0x4842, 0x01 },
	{ 0x3033, 0x43 },
	{ 0x3815, 0x02 },
	{ 0x300f, 0x0b },
	{ 0x3003, 0x03 },
	{ 0x3003, 0x01 },
	{ 0x3003, 0x01 },
	{ 0xffff, 0xff },	
};

static struct regval_list_s mipi_yuv_vga[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x5c },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3005, 0xff },
	{ 0x3006, 0x43 },
	{ 0x3007, 0x37 },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x10 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x04 },
	{ 0x370c, 0xa0 },
	{ 0x3602, 0xfc },
	{ 0x3612, 0xff },
	{ 0x3634, 0xc0 },
	{ 0x3613, 0x00 },
	{ 0x3605, 0x7c },
	{ 0x3621, 0x09 },
	{ 0x3622, 0x60 },
	{ 0x3604, 0x40 },
	{ 0x3603, 0xa7 },
	{ 0x3603, 0x27 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5001, 0xff },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x3808, 0x02 },
	{ 0x3809, 0x80 },
	{ 0x380a, 0x01 },
	{ 0x380b, 0xe0 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x4300, OV5642_UYVY }, /* format to yvyu */
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3824, 0x11 },
	{ 0x3501, 0x1e },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x7f },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x03 },
	{ 0x380f, 0xe8 },
	{ 0x3a0d, 0x04 },
	{ 0x3a0e, 0x03 },
	{ 0x3818, 0xc1 },
	{ 0x3705, 0xdb },
	{ 0x370a, 0x81 },
	{ 0x3801, 0x80 },
	{ 0x3621, 0x87 },
	{ 0x3801, 0x50 },
	{ 0x3803, 0x08 },
	{ 0x3827, 0x08 },
	{ 0x3810, 0x40 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x3806, 0x03 },
	{ 0x3807, 0xc0 },
	{ 0x5686, 0x03 },
	{ 0x5687, 0xbc },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x05 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x528a, 0x02 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x08 },
	{ 0x528e, 0x08 },
	{ 0x528f, 0x10 },
	{ 0x5290, 0x10 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x02 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x02 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x02 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x02 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x02 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x02 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x02 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x70 },
	{ 0x3a1f, 0x10 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x04 },
	{ 0x589a, 0xc5 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x04 },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x4801, 0x0f },
	{ 0x3007, 0x3b },
	{ 0x300e, 0x04 },
	{ 0x4803, 0x50 },
	{ 0x3815, 0x01 },
	{ 0x4713, 0x02 },
	{ 0x4842, 0x01 },
	{ 0x3033, 0x43 },
	{ 0x3815, 0x02 },
	{ 0x300f, 0x0a },
	{ 0x3003, 0x03 },
	{ 0x3003, 0x01 },
	{ 0xffff, 0xff },
};

static struct regval_list_s mipi_yuv_720p[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3030, 0x2b },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x10 },
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x22 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5687, 0x94 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x5001, 0xcf },
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x460b, 0x35 },
	{ 0x471d, 0x00 },
	{ 0x3002, 0x0c },
	{ 0x3002, 0x00 },
	{ 0x4713, 0x03 },
	{ 0x471c, 0x50 },
	{ 0x4721, 0x02 },
	{ 0x4402, 0x90 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x44 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc8 },
	{ 0x3801, 0x88 },
	{ 0x3824, 0x11 },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x32 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x4407, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3011, 0x08 },
	{ 0x350c, 0x02 },
	{ 0x350d, 0xe4 },
	{ 0x3621, 0xc9 },
	{ 0x370a, 0x81 },
	{ 0x3803, 0x08 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x3806, 0x02 },
	{ 0x3807, 0xd0 },
	{ 0x3808, 0x05 },
	{ 0x3809, 0x00 },
	{ 0x380a, 0x02 },
	{ 0x380b, 0xd0 },
	{ 0x380c, 0x08 },
	{ 0x380d, 0x72 },
	{ 0x380e, 0x02 },
	{ 0x380f, 0xe4 },
	{ 0x3810, 0xc0 },
	{ 0x3818, 0xc9 },
	{ 0x381c, 0x10 },
	{ 0x381d, 0xa0 },
	{ 0x381e, 0x05 },
	{ 0x381f, 0xb0 },
	{ 0x3820, 0x00 },
	{ 0x3821, 0x00 },
	{ 0x3824, 0x11 },
	{ 0x3a08, 0x1b },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x17 },
	{ 0x3a0b, 0x20 },
	{ 0x3a0d, 0x02 },
	{ 0x3a0e, 0x01 },
	{ 0x401c, 0x04 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x5686, 0x02 },
	{ 0x5687, 0xcc },
	{ 0x5001, 0x7f },
	{ 0x589b, 0x06 },
	{ 0x589a, 0xc5 },
	{ 0x3503, 0x00 },
	{ 0x460c, 0x20 },
	{ 0x460b, 0x37 },
	{ 0x471c, 0xd0 },
	{ 0x471d, 0x05 },
	{ 0x3815, 0x01 },
	{ 0x3818, 0xc1 },
	{ 0x501f, 0x00 },
	{ 0x5002, 0xe0 },
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x3002, 0x1c },
	{ 0x4800, 0x14 },
	{ 0x4801, 0x0f },
	{ 0x3007, 0x3b },
	{ 0x300e, 0x04 },
	{ 0x4803, 0x50 },
	{ 0x3815, 0x01 },
	{ 0x4713, 0x02 },
	{ 0x4842, 0x01 },
	{ 0x3029, 0x01 },
	{ 0x300f, 0x0a },
	{ 0x3003, 0x03 },
	{ 0x3003, 0x01 },
	{ 0xffff, 0xff },
};

#define C_OV5642_FMT_MAX	6
static struct ov5642_fmt_s g_ov5642_fmt[] = 
{
	{
		.desc		= "CCIR601 Raw VGA",
		.pixelformat = V4L2_PIX_FMT_SBGGR8,
		.regs 		= CCIR601_raw_vga,
		.cmatrix	= { 0, 0, 0, 0, 0, 0 },
		.bpp 		= 1
	},
	{
		.desc		= "CCIR601 Raw MEG5",
		.pixelformat = V4L2_PIX_FMT_SBGGR8,
		.regs 		= CCIR601_raw_meg5,
		.cmatrix	= { 0, 0, 0, 0, 0, 0 },
		.bpp 		= 1
	},
	{
		.desc		= "CCIR601 UYVY 720P",
		.pixelformat = V4L2_PIX_FMT_UYVY,
		.regs 		= CCIR601_yuv_720p,
		.cmatrix	= { 0, 0, 0, 0, 0, 0 },
		.bpp		= 2,
	},
	{
		.desc		= "MIPI Raw Meg5",
		.pixelformat = V4L2_PIX_FMT_SBGGR8,
		.regs 		= mipi_raw_meg5,
		.cmatrix	= { 0, 0, 0, 0, 0, 0 },
		.bpp 		= 1
	},
	{
		.desc		= "MIPI VYUY VGA",
		.pixelformat = V4L2_PIX_FMT_YVYU,
		.regs 		= mipi_yuv_vga,
		.cmatrix	= { 0, 0, 0, 0, 0, 0 },
		.bpp		= 2,
	},
	{
		.desc		= "MIPI VYUY 720P",
		.pixelformat = V4L2_PIX_FMT_YVYU,
		.regs 		= mipi_yuv_720p,
		.cmatrix	= { 0, 0, 0, 0, 0, 0 },
		.bpp		= 2,
	},
};

static ov5642_dev_t	g_ov5642_dev;
#if I2C_USE_GPIO == 1
static int g_scl_handle, g_sda_handle;
#else
static int g_i2c_handle;
#endif

/**************************************************************************
 *             F U N C T I O N    I M P L E M E N T A T I O N S           *
 **************************************************************************/
static void 
sccb_delay (
	int i
) 
{
	udelay(i*10);
}

#if I2C_USE_GPIO == 1
static void 
sccb_start(
	void
)
{
	gp_gpio_set_value(g_scl_handle, 1);
	sccb_delay (2);
	gp_gpio_set_value(g_sda_handle, 1);
	sccb_delay (2);
	gp_gpio_set_value(g_sda_handle, 0);	
	sccb_delay (2);
}

static void 
sccb_stop(
	void
)
{
	sccb_delay (2);
	gp_gpio_set_value(g_sda_handle, 0);					
	sccb_delay (2);
	gp_gpio_set_value(g_scl_handle, 1);					
	sccb_delay (2);
	gp_gpio_set_value(g_sda_handle, 1);					
	sccb_delay (2);
}

static int 
sccb_w_phase(
	unsigned short value
)
{
	int i, nRet = 0;

	for(i=0;i<8;i++)
	{
		gp_gpio_set_value(g_scl_handle,0);		/* SCL0 */
		sccb_delay (2);
		if (value & 0x80)
			gp_gpio_set_value(g_sda_handle, 1);	/* SDA1 */
		else
			gp_gpio_set_value(g_sda_handle, 0);	/* SDA0 */
		gp_gpio_set_value(g_scl_handle, 1);		/* SCL1 */
		sccb_delay(2);
		value <<= 1;
	}
	/* The 9th bit transmission */
	gp_gpio_set_value(g_scl_handle, 0);				/* SCL0 */
	gp_gpio_set_input(g_sda_handle, GPIO_PULL_HIGH);/* SDA is Hi-Z mode */
	
	sccb_delay(2);
	gp_gpio_set_value(g_scl_handle,1);				/* SCL1 */
	sccb_delay(2);
	gp_gpio_set_value(g_scl_handle,0);				/* SCL0 */

	gp_gpio_get_value(g_sda_handle, &i);			/* check ack */
	if(i != 0) nRet = -1;
	gp_gpio_set_output(g_sda_handle, 1, 0);			/* SDA is output */
	return nRet;
}

static int 
sccb_r_phase(
	void
)
{
	int i;
	int data, temp;

	gp_gpio_set_input(g_sda_handle, GPIO_PULL_HIGH);/* SDA is Hi-Z mode */
	data = 0x00;
	for (i=0;i<8;i++)
	{
		gp_gpio_set_value(g_scl_handle,0);			/* SCL0 */
		sccb_delay(2);
		gp_gpio_set_value(g_scl_handle,1);			/* SCL1 */
		gp_gpio_get_value(g_sda_handle, &temp);
		data <<= 1;
		data |= temp;
		sccb_delay(2);
	}
	/* The 9th bit transmission */
	gp_gpio_set_value(g_scl_handle, 0);				/* SCL0 */
	gp_gpio_set_output(g_sda_handle, 1, 0);			/* SDA is output mode */
	gp_gpio_set_value(g_sda_handle, 1);				/* SDA0, the nighth bit is NA must be 1 */

	sccb_delay(2);
	gp_gpio_set_value(g_scl_handle,1);				/* SCL1 */
	sccb_delay(2);
	gp_gpio_set_value(g_scl_handle,0);				/* SCL0 */
	return data;		
}

static int
sccb_read (
	unsigned short id,			
	unsigned short addr,		
	unsigned char *value
) 
{
	int nRet = 0;
	
	/* Data re-verification */
	id &= 0xFF;
	addr &= 0xFFFF;

	/* Serial bus output mode initialization */
	gp_gpio_set_output(g_scl_handle, 1, 0);
	gp_gpio_set_output(g_sda_handle, 1, 0);	

	/* 2-Phase write transmission cycle is starting now ...*/
	gp_gpio_set_value(g_scl_handle, 1);		/* SCL1	*/	
	gp_gpio_set_value(g_sda_handle, 0);		/* SDA0 */
	
	sccb_start ();							/* Transmission start */
	nRet = sccb_w_phase (id);				/* Phase 1 */
	if(nRet < 0) goto Return;
	nRet = sccb_w_phase(addr >> 8);			/* Phase 2 */
	if(nRet < 0) goto Return;
	nRet = sccb_w_phase(addr & 0xFF);						
	if(nRet < 0) goto Return;
	sccb_stop ();							/* Transmission stop */

	/* 2-Phase read transmission cycle is starting now ... */
	sccb_start ();							/* Transmission start */
	nRet = sccb_w_phase (id | 0x01);		/* Phase 1 (read) */
	if(nRet < 0) goto Return;
	*value = sccb_r_phase();				/* Phase 2 */

Return:
	sccb_stop ();							/* Transmission stop */
	return nRet;
}

static int 
sccb_write (
	unsigned short id,
	unsigned short addr,
	unsigned char data
) 
{
	int nRet = 0;
	
	/* Data re-verification */
	id &= 0xFF;
	addr &= 0xFFFF;
	data &= 0xFF;
	
	/* Serial bus output mode initialization */
	gp_gpio_set_output(g_scl_handle, 1, 0);
	gp_gpio_set_output(g_sda_handle, 1, 0);

	/* 3-Phase write transmission cycle is starting now ... */
	gp_gpio_set_value(g_scl_handle, 1);		/* SCL1 */		
	gp_gpio_set_value(g_sda_handle, 0);		/* SDA0 */
	sccb_start();							/* Transmission start */

	nRet = sccb_w_phase(id);				/* Phase 1 */
	if(nRet < 0) goto Return;
	nRet = sccb_w_phase((addr >> 8)& 0xFF);	/* Phase 2 */
	if(nRet < 0) goto Return;
	nRet = sccb_w_phase(addr & 0xFF);
	if(nRet < 0) goto Return;
	nRet = sccb_w_phase(data);				/* Phase 3 */
	if(nRet < 0) goto Return;
	
Return:
	sccb_stop();							/* Transmission stop */
	return nRet;
}
#endif 

static int 
sensor_read(
	unsigned int reg,
	unsigned char *value
)
{
#if I2C_USE_GPIO == 1
	return sccb_read(OV5642_ID, reg, value);
#else
	char addr[2], data[0];
	int nRet;
	
	addr[0] = (reg >> 8) & 0xFF;
	addr[1] = reg & 0xFF;
	nRet = gp_i2c_bus_write(g_i2c_handle, addr, 2);
	nRet = gp_i2c_bus_read(g_i2c_handle, data, 1);
	*value = data[0];
	return nRet;
#endif
}

static int 
sensor_write(
	unsigned int reg,
	unsigned char value
)
{	
#if I2C_USE_GPIO == 1
	return sccb_write(OV5642_ID, reg, value);
#else
	char data[3];
	
	data[0] = (reg >> 8) & 0xFF;
	data[1] = reg & 0xFF;
	data[2] = value;	
	return gp_i2c_bus_write(g_i2c_handle, data, 3);
#endif
}

static int
ov5642_write_table(
	struct regval_list_s *vals
)
{
	int i, nRet;
	
	while (vals->reg_num != 0xffff || vals->value != 0xff) 
	{
		for(i = 0; i< 10; i++)
		{
			nRet = sensor_write(vals->reg_num, vals->value);
			if(nRet >= 0)
			{
			#if 0
				unsigned char value;
				sensor_read(vals->reg_num, &value);
				printk("0x%x, 0x%x\n", vals->reg_num, value);
			#endif
				break;
			}
			else
			{
				printk("I2C Fail\n");
			}
		}
		if(i == 10) return -1;
		vals++;
	}
	return 0;
}

static int 
gp_ov5642_s_interface(
	struct v4l2_subdev *sd,
	struct v4l2_interface *interface
)
{
	return 0;
}

static int 
gp_ov5642_enum_fmt(
	struct v4l2_subdev *sd, 
	struct v4l2_fmtdesc *fmtdesc
)
{
	if(fmtdesc->index >= C_OV5642_FMT_MAX)
		return -EINVAL;

	fmtdesc->type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
	fmtdesc->pixelformat = g_ov5642_fmt[fmtdesc->index].pixelformat;
	memcpy((void *)fmtdesc->description, (void *)g_ov5642_fmt[fmtdesc->index].desc, 32);	
	return 0;
}

static int gp_ov5642_try_fmt(
	struct v4l2_subdev *sd,
	struct v4l2_format *fmt
)
{
	int i;
	struct v4l2_pix_format *pix = &fmt->fmt.pix;

	for(i=0; i<C_OV5642_FMT_MAX; i++)
	{
		if (g_ov5642_fmt[i].pixelformat == pix->pixelformat)
			break;
	}
	
	if(i == C_OV5642_FMT_MAX)
		return -1;
	
	pix->width = OV5642_WIDTH;
	pix->height = OV5642_HEIGHT;
	pix->bytesperline = OV5642_WIDTH * g_ov5642_fmt[i].bpp;
	pix->sizeimage = pix->bytesperline * OV5642_HEIGHT;
	return 0;
}

static int 
gp_ov5642_s_fmt(
	struct v4l2_subdev *sd, 
	struct v4l2_format *fmt
)
{
	if(fmt->fmt.pix.priv == C_CDSP_FRONT)
	{
		switch(fmt->fmt.pix.pixelformat)
		{
		case V4L2_PIX_FMT_SBGGR8:
			if((fmt->fmt.pix.width == 640) && (fmt->fmt.pix.height == 480))
			{
				g_ov5642_dev.fmt = &g_ov5642_fmt[0];
				g_ov5642_dev.width = 640;
				g_ov5642_dev.height = 480;
			}
			else if((fmt->fmt.pix.width == 2592) && (fmt->fmt.pix.height == 1944))
			{
				g_ov5642_dev.fmt = &g_ov5642_fmt[1];
				g_ov5642_dev.width = 2592;
				g_ov5642_dev.height = 1944;
			}
			else 
			{
				return -EINVAL;
			}
			break;
			
		case V4L2_PIX_FMT_UYVY:		
	 		if((fmt->fmt.pix.width == 1280) && (fmt->fmt.pix.height == 720))
			{
				g_ov5642_dev.fmt = &g_ov5642_fmt[2];
				g_ov5642_dev.width = 1280;
				g_ov5642_dev.height = 720;
			}
			else
			{
				return -EINVAL;
			}
			break;
			
		default:
			return -EINVAL;
		}
	}
	else if(fmt->fmt.pix.priv == C_CDSP_MIPI)
	{
		switch(fmt->fmt.pix.pixelformat)
		{
		case V4L2_PIX_FMT_SBGGR8:		
			if((fmt->fmt.pix.width == 2592) && (fmt->fmt.pix.height == 1944))
			{
				g_ov5642_dev.fmt = &g_ov5642_fmt[3];
				g_ov5642_dev.width = 2592;
				g_ov5642_dev.height = 1944;
			}
			else 
			{
				return -EINVAL;
			}
			break;
			
		case V4L2_PIX_FMT_YVYU:		
			if((fmt->fmt.pix.width == 640) && (fmt->fmt.pix.height == 480))
			{
				g_ov5642_dev.fmt = &g_ov5642_fmt[4];
				g_ov5642_dev.width = 640;
				g_ov5642_dev.height = 480;
			}
			else if((fmt->fmt.pix.width == 1280) && (fmt->fmt.pix.height == 720))
			{
				g_ov5642_dev.fmt = &g_ov5642_fmt[5];
				g_ov5642_dev.width = 1280;
				g_ov5642_dev.height = 720;
			}
			else
			{
				return -EINVAL;
			}
			break;
			
		default:
			return -EINVAL;
		}
	}
	else
	{
		return -EINVAL;
	}
	return 0;
}

static int 
gp_ov5642_g_fmt(
	struct v4l2_subdev *sd, 
	struct v4l2_format *fmt
)
{
	fmt->fmt.pix.width = g_ov5642_dev.width;
	fmt->fmt.pix.height = g_ov5642_dev.height;
	fmt->fmt.pix.pixelformat = g_ov5642_dev.fmt->pixelformat;
	fmt->fmt.pix.field = V4L2_FIELD_NONE;
	fmt->fmt.pix.bytesperline = g_ov5642_dev.width * g_ov5642_dev.fmt->bpp;
	fmt->fmt.pix.sizeimage = fmt->fmt.pix.bytesperline * g_ov5642_dev.height;
	return 0;
}

static int 
gp_ov5642_cropcap(
	struct v4l2_subdev *sd,
	struct v4l2_cropcap *cc
)
{
	return 0;
}


static int 
gp_ov5642_g_crop(
	struct v4l2_subdev *sd,
	struct v4l2_crop *crop
)
{
	return 0;
}

static int 
gp_ov5642_s_crop(
	struct v4l2_subdev *sd,
	struct v4l2_crop *crop
)
{
	return 0;
}

static int 
gp_ov5642_g_parm(
	struct v4l2_subdev *sd,
	struct v4l2_streamparm *parms
)
{
	return 0;
}

static int 
gp_ov5642_s_parm(
	struct v4l2_subdev *sd,
	struct v4l2_streamparm *param
)
{
	return 0;
}

static int 
gp_ov5642_queryctrl(
	struct v4l2_subdev *sd,
	struct v4l2_queryctrl *qc
)
{
	return 0;
}

static int 
gp_ov5642_g_ctrl(
	struct v4l2_subdev *sd, 
	struct v4l2_control *ctrl
)
{
	unsigned char data;
	int nRet = 0;

	switch(ctrl->id)
	{
	case V4L2_CID_AUTO_WHITE_BALANCE:
		nRet = sensor_read(0x5001, &data);
		if(data &= 0x01)
			ctrl->value = 1;
		else 
			ctrl->value = 0;
		break;
	
	case V4L2_CID_POWER_LINE_FREQUENCY:
		
		break;
			
	case V4L2_CID_WHITE_BALANCE_TEMPERATURE:
		
		break;

	case V4L2_CID_BACKLIGHT_COMPENSATION:	
	
		break;
		
	default:
		return -EINVAL;
	}
	
	return nRet; 
}

static int 
gp_ov5642_s_ctrl(
	struct v4l2_subdev *sd, 
	struct v4l2_control *ctrl
)
{
	unsigned char data;
	int nRet = 0;
	
	switch(ctrl->id)
	{
	case V4L2_CID_AUTO_WHITE_BALANCE:
		nRet = sensor_read(0x5001, &data);
		if(ctrl->value)
			nRet = sensor_write(0x5001, data |= 0x01);
		else 
			nRet = sensor_write(0x5001, data &= ~0x01);
		break;
	
	case V4L2_CID_POWER_LINE_FREQUENCY:
		
		break;
		
	case V4L2_CID_WHITE_BALANCE_TEMPERATURE:
		
		break;

	case V4L2_CID_BACKLIGHT_COMPENSATION:

		break;
		
	default:
		return -EINVAL;
	}
	
	return nRet; 
}



static int 
gp_ov5642_reset(
	struct v4l2_subdev *sd, 
	u32 val
)
{
	sensor_write(0x3008, 0x82);
	sccb_delay(val);
	return 0;
}

static int 
gp_ov5642_init(
	struct v4l2_subdev *sd,
	u32 val
)
{
	int nRet;
	
	printk("ov5642_init.\n");
	nRet = ov5642_write_table(g_ov5642_dev.fmt->regs);
	if(nRet < 0) return -1;
	return 0;
}

static int 
gp_ov5642_suspend(
	struct v4l2_subdev *sd
)
{
	return 0;
}

static int 
gp_ov5642_resume(
	struct v4l2_subdev *sd
)
{
	return 0;
}

static const struct v4l2_subdev_core_ops cdsp_ov5642_core_ops = 
{
	.g_ctrl = gp_ov5642_g_ctrl,
	.s_ctrl = gp_ov5642_s_ctrl,
	.queryctrl = gp_ov5642_queryctrl,
	.reset = gp_ov5642_reset,
	.init = gp_ov5642_init,
};

static const struct v4l2_subdev_video_ops cdsp_ov5642_video_ops = 
{
	.enum_fmt = gp_ov5642_enum_fmt,
	.try_fmt = gp_ov5642_try_fmt,
	.g_fmt = gp_ov5642_g_fmt,
	.s_fmt = gp_ov5642_s_fmt,
	.s_parm = gp_ov5642_s_parm,
	.g_parm = gp_ov5642_g_parm,
	.cropcap = gp_ov5642_cropcap,
	.g_crop = gp_ov5642_g_crop,
	.s_crop = gp_ov5642_s_crop,	
};

static const struct v4l2_subdev_ext_ops cdsp_ov5642_ext_ops = 
{
	.s_interface = gp_ov5642_s_interface,
	.suspend = gp_ov5642_suspend,
	.resume = gp_ov5642_resume,
};

static const struct v4l2_subdev_ops cdsp_ov5642_ops = 
{
	.core = &cdsp_ov5642_core_ops,
	.video = &cdsp_ov5642_video_ops,
	.ext = &cdsp_ov5642_ext_ops
};

static int __init 
ov5642_init_module(
		void
)
{
#if I2C_USE_GPIO == 1
	g_scl_handle = gp_gpio_request(I2C_SCL_IO, "SCL"); 
	g_sda_handle = gp_gpio_request(I2C_SDA_IO, "SDA");
	if((g_scl_handle == 0) || (g_scl_handle == -EINVAL) || (g_scl_handle == -ENOMEM)||
		(g_sda_handle == 0) || (g_sda_handle == -EINVAL) || (g_sda_handle == -ENOMEM))
	{
		printk(KERN_WARNING "GpioReqFail %d, %d\n", g_scl_handle, g_sda_handle);
		gp_gpio_release(g_scl_handle);
		gp_gpio_release(g_sda_handle);	
		return -1;
	}
	gp_gpio_set_output(g_scl_handle, 1, 0);
	gp_gpio_set_output(g_sda_handle, 1, 0);
#else
	g_i2c_handle = gp_i2c_bus_request(OV5642_ID, 100);	/*100KHZ*/
	if((g_i2c_handle == 0) ||(g_i2c_handle == -ENOMEM))
	{
		printk(KERN_WARNING "i2cReqFail %d\n", g_i2c_handle);
		return -1;
	}
#endif

	printk(KERN_WARNING "ModuleInit: cdsp_ov5642 \n");
	g_ov5642_dev.fmt = &g_ov5642_fmt[1];
	g_ov5642_dev.width = OV5642_WIDTH;
	g_ov5642_dev.height = OV5642_HEIGHT;
	v4l2_subdev_init(&(g_ov5642_dev.sd), &cdsp_ov5642_ops);
	strcpy(g_ov5642_dev.sd.name, "cdsp_ov5642");
	register_sensor(&g_ov5642_dev.sd, (int *)&param[0]);
	return 0;
}

static void __exit
ov5642_module_exit(
		void
) 
{
#if I2C_USE_GPIO == 1	
	gp_gpio_release(g_scl_handle);
	gp_gpio_release(g_sda_handle);	
#else
	gp_i2c_bus_release(g_i2c_handle);
#endif
	unregister_sensor(&(g_ov5642_dev.sd));
}

module_init(ov5642_init_module);
module_exit(ov5642_module_exit);

/**************************************************************************
 *                  M O D U L E    D E C L A R A T I O N                  *
 **************************************************************************/
MODULE_AUTHOR("Generalplus");
MODULE_DESCRIPTION("Generalplus ov5642 Driver");
MODULE_LICENSE("GPL");
MODULE_VERSION("1.0");

